# -*- eval: (setq org-media-note-screenshot-image-dir (concat default-directory "./static/Mac Homebrew ÂÆâË£Ö Python@2/")); -*-
:PROPERTIES:
:ID:       971D3B28-1761-439B-96BD-5958DB1FA6EB
:END:
#+LATEX_CLASS: my-article
#+DATE: <2022-07-26 Tue 19:10>
#+TITLE: Mac Homebrew ÂÆâË£Ö Python@2
#+ROAM_KEY:
#+PDF_KEY:
#+PAGE_KEY:

* ÈóÆÈ¢ò
ÊúÄËøëÊäòËÖæ Python ÁéØÂ¢ÉÊúâ‰∫õÈúÄË¶ÅÂú® Python@2 ÁéØÂ¢É‰∏ãÊâçËÉΩËøõË°åÔºå‰ªäÂ§©Áî® brew upgrade ÂêéÔºåÂèëÁé∞ python@2 ÂíãÊ≤°‰∫ÜÔºü
Ê≤°ÂäûÊ≥ïÔºåÊàëÁåú brew ÁöÑ python@2 ÂèØËÉΩÂá∫ÈóÆÈ¢ò‰∫ÜÔºåÂç∏ËΩΩÂÜçÂÆâË£ÖÊä•Â¶Ç‰∏ãÈîôËØØÔºü

#+BEGIN_SRC sh
# Êü•Êâæ
$ brew search python@2

Error: No formulae or casks found for "python@2".

# ÂÆâË£Ö
$ brew install python@2

==> Searching for similarly named formulae...

Error: No similarly named formulae found.

Error: No available formula or cask with the name "python@2".

==> Searching for a previously deleted formula (in the last month)...

Error: No previously deleted formula found.

==> Searching taps on GitHub...

Error: No formulae found in taps.

#+END_SRC

* ÂàÜÊûê
** Á≥ªÁªüÁéØÂ¢É
È¶ñÂÖàÔºåÁúãÁúãÊú¨Êú∫ÁéØÂ¢ÉÈÉΩÊúâÂì™‰∫õ python ÁâàÊú¨Ôºö

#+BEGIN_SRC sh
# Êú¨Êú∫ÁéØÂ¢ÉÁâàÊú¨
$ python version
Python 2.7.16

# Êú¨Êú∫ÁéØÂ¢ÉÔºåËÑöÊú¨ÂëΩ‰ª§Ë∑ØÂæÑ
$ which python
/usr/bin/python

## python2ÔºåËÑöÊú¨ÂëΩ‰ª§Ë∑ØÂæÑ
$ which python2
/usr/local/bin/python2

## python3ÔºåËÑöÊú¨ÂëΩ‰ª§Ë∑ØÂæÑ
$ which python3
/usr/local/bin/python3
#+END_SRC

Êü•ÁúãÊú¨Êú∫ÁéØÂ¢É =ÈìæÊé•= ÁöÑËÑöÊú¨Ë∑ØÂæÑÔºö

#+BEGIN_SRC python
# Êú¨Êú∫ÁéØÂ¢ÉÈìæÊé•ÁöÑÁ≥ªÁªüPython ÁâàÊú¨
$ ls -al /usr/bin/python*
lrwxr-xr-x  1 root  wheel     75 12 20  2020 /usr/bin/python -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7
lrwxr-xr-x  1 root  wheel     82 12 20  2020 /usr/bin/python-config -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7-config
lrwxr-xr-x  1 root  wheel     75 12 20  2020 /usr/bin/python2 -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7
lrwxr-xr-x  1 root  wheel     75 12 20  2020 /usr/bin/python2.7 -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7
lrwxr-xr-x  1 root  wheel     82 12 20  2020 /usr/bin/python2.7-config -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/python2.7-config
-rwxr-xr-x  1 root  wheel  31488  9 22  2020 /usr/bin/python3
lrwxr-xr-x  1 root  wheel     76 12 20  2020 /usr/bin/pythonw -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/pythonw2.7
lrwxr-xr-x  1 root  wheel     76 12 20  2020 /usr/bin/pythonw2.7 -> ../../System/Library/Frameworks/Python.framework/Versions/2.7/bin/pythonw2.7
#+END_SRC

ÂèØËßÅÔºåÁ≥ªÁªüÁúüÂÆûÁöÑÂºïÁî®Ë∑ØÂæÑ‰∏∫Ôºö

~/System/Library/Frameworks/Python.framework/Versions/2.7/~

Á≥ªÁªüÊú¨Êú∫ÁéØÂ¢ÉÊèê‰æõÁöÑ python ÁâàÊú¨ *‰∏çÂª∫ËÆÆ* ËøõË°åÂÆâË£ÖÂêÑÁßçÁ¨¨‰∏âÊñπÂíåÊõ¥Êñ∞ python ÁâàÊú¨Ôºå‰ª•ÂÖçÂºïËµ∑‰∏çÂøÖË¶ÅÁöÑ‰∏çÂèØÈ¢ÑËßÅÁöÑÈ∫ªÁÉ¶Ôºõ
Êé®Ëçê ~brew install python~ ÊñπÂºèÔºåÁÑ∂Âêé‰ΩøÁî® virtualenv ËôöÊãüÁéØÂ¢ÉÊñπÂºèÔºåÈÖçÁΩÆÂêÑ‰∏™È°πÁõÆËøêË°åÁ©∫Èó¥„ÄÇ

** Cellar Python
Êü•Áúã‰∏Ä‰∏ã =python2= Âíå =python3= ÂºïÁî®ÁöÑË∑ØÂæÑÔºö

#+BEGIN_SRC sh
$ ls -al /usr/local/bin/python*
lrwxr-xr-x  1 c  admin  38  1 24 12:02 /usr/local/bin/python -> ../Cellar/python@2/2.7.17_1/bin/python
lrwxr-xr-x  1 c  admin  45  1 24 12:02 /usr/local/bin/python-config -> ../Cellar/python@2/2.7.17_1/bin/python-config
lrwxr-xr-x  1 c  admin  39  1 24 12:02 /usr/local/bin/python2 -> ../Cellar/python@2/2.7.17_1/bin/python2
lrwxr-xr-x  1 c  admin  46  1 24 12:02 /usr/local/bin/python2-config -> ../Cellar/python@2/2.7.17_1/bin/python2-config
lrwxr-xr-x  1 c  admin  41  1 24 12:02 /usr/local/bin/python2.7 -> ../Cellar/python@2/2.7.17_1/bin/python2.7
lrwxr-xr-x  1 c  admin  48  1 24 12:02 /usr/local/bin/python2.7-config -> ../Cellar/python@2/2.7.17_1/bin/python2.7-config
lrwxr-xr-x  1 c  admin  39  1 24 14:25 /usr/local/bin/python3 -> ../Cellar/python@3.9/3.9.10/bin/python3
lrwxr-xr-x  1 c  admin  46  1 24 14:25 /usr/local/bin/python3-config -> ../Cellar/python@3.9/3.9.10/bin/python3-config
lrwxr-xr-x  1 c  admin  41  1 24 14:25 /usr/local/bin/python3.9 -> ../Cellar/python@3.9/3.9.10/bin/python3.9
lrwxr-xr-x  1 c  admin  48  1 24 14:25 /usr/local/bin/python3.9-config -> ../Cellar/python@3.9/3.9.10/bin/python3.9-config
lrwxr-xr-x  1 c  admin  39  1 24 12:02 /usr/local/bin/pythonw -> ../Cellar/python@2/2.7.17_1/bin/pythonw
lrwxr-xr-x  1 c  admin  40  1 24 12:02 /usr/local/bin/pythonw2 -> ../Cellar/python@2/2.7.17_1/bin/pythonw2
lrwxr-xr-x  1 c  admin  42  1 24 12:02 /usr/local/bin/pythonw2.7 -> ../Cellar/python@2/2.7.17_1/bin/pythonw2.7
#+END_SRC

ÁõÆÂâçÂèëÁé∞Ôºåpython3.x ÁâàÊú¨ÈìæÊé•ÁöÑÈÉΩÊòØ [[https://brew.sh/index_zhcn][homebrew]] ‰∏≠ÂÆâË£ÖÁöÑÔºõ‰ΩÜÊòØ python2 ‰πãÂâçÂç∏ËΩΩÊéâÂêéÔºåÈÄöËøá [[https://brew.sh/index_zhcn][homebrew]] ÂÆâË£Ö‰∏ç‰∏ä‰∫ÜÔºåÁÑ∂ÂêéÈìæÊé•‰∏∫Êú¨Êú∫Á≥ªÁªüÁöÑ python2.x ÁâàÊú¨„ÄÇ

Êü•Áúã‰∏Ä‰∏ãÔºåÂêÑ‰∏™ python ÁâàÊú¨ÁöÑ pip ÁâàÊú¨Ôºö

#+BEGIN_SRC sh
# python2 pip version
$ python2 -m pip --version

/System/Library/Frameworks/Python.framework/Versions/2.7/Resources/Python.app/Contents/MacOS/Python: No module named pip

# python3 pip version
$ python3 -m pip --version

pip 21.0.1 from /usr/local/lib/python3.9/sitepackages/pip (python 3.9)
#+END_SRC

ÁõÆÂâçÂèëÁé∞ÔºåÁ≥ªÁªüÁéØÂ¢É Python 2.7.16 ÁâàÊú¨ÁöÑ Python2.x Ê≤°ÊúâÂÆâË£Ö pipÔºõ
macOS Á≥ªÁªü Python ‰∏çÊèê‰æõ pip „ÄÇ
Â¶ÇÊûúÈúÄË¶ÅÔºåËØ∑ÊåâÁÖß[[https://pip.readthedocs.io/en/stable/installing/#installpip][pip ÊñáÊ°£]] ‰∏∫Á≥ªÁªü Python ÂÆâË£ÖÂÆÉ„ÄÇ

* Êü•Êâæ
‰ªéÂ¶Ç‰∏äÂàÜÊûêÁúãÊù•ÔºåÈúÄË¶ÅÂÅöÂ¶Ç‰∏ãÊ≠•È™§Ôºö
  ÈÄöËøá Homebrew ÂÆâË£Ö pythonÔº†2Ôºõ
  Â¶ÇËã•Êó†Ê≥ïÂÆâË£ÖÔºåÊü•Êâæ‰∏Ä‰∏ãÂéüÂõ†ÊâÄÂú®Ôºõ
  Â¶ÇÊûúÂÆâË£ÖÊàêÂäüÔºåÊü•Áúã‰∏Ä‰∏ãÊúâÊ≤°Êúâ pip ÂåÖÔºõ
ÁõÆÂâçÁúãÊù•ÔºåÊ≠•È™§‰∏âÊòØË°å‰∏çÈÄöÁöÑÔºõ

Âéª[[https://www.python.org/downloads/][Python ÂÆòÁΩë]]Ôºå[[https://www.python.org/downloads/][https://www.python.org/downloads/]] ÂèëÁé∞Â¶Ç‰∏ã‰ø°ÊÅØ:

[[file:./static/Mac Homebrew ÂÆâË£Ö Python@2/1642997387-841ef4a555bde47735dd5125d4253c1f.png]]

Python 2.7ÊòØ[[https://www.python.org/dev/peps/pep0373/][Python 2.x]]Á≥ªÂàóÁöÑÁªìÂ∞æÔºõ‰Ωú‰∏∫ 2.x Á≥ªÂàóÁöÑÊúÄÂêé‰∏Ä‰∏™ÁâàÊú¨ÔºåPython 2.7 Âú® 2020 Âπ¥‰πãÂâçËé∑Âæó‰∫ÜÈîôËØØ‰øÆÂ§çÊîØÊåÅ„ÄÇ
ËØ•ÊîØÊåÅÂú® 2020 Âπ¥ 1 Êúà 1 Êó•Ê≠£ÂºèÂÅúÊ≠¢ÔºåÂπ∂‰∏î 2.7.18 ‰ª£Á†ÅÂÜªÁªìÂú® 2020 Âπ¥ 1 Êúà 1 Êó•ÂèëÁîüÔºå‰ΩÜÊúÄÁªàÁâàÊú¨Âú®ËØ•Êó•Êúü‰πãÂêéÂèëÁîü„ÄÇ
Âç≥‰∏ç‰ºöÊúâ Python 2.8 ÁâàÊú¨„ÄÇ

** formula  Âíå cask
formula Âíå casks Â¶Ç‰ΩïÁøªËØëÂíåÂ¶Ç‰ΩïÂå∫Âà´Ôºö
formulae ÊÑèÊÄùÊòØ‰∏Ä‰∫õËΩØ‰ª∂ÂåÖÔºàSDKÔºâÔºå‰∏ÄËà¨ÊòØÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑„ÄÅÂºÄÂèëÂ∫ì„ÄÅ‰∏Ä‰∫õÂ≠ó‰Ωì„ÄÅÊèí‰ª∂ÔºåÂÖ±ÊÄßÊòØ‰∏çÊèê‰æõÁïåÈù¢ÔºåÊèê‰æõÁªôÁªàÁ´ØÊàñËÄÖÊòØÂºÄÂèëËÄÖ‰ΩøÁî®„ÄÇ
cask ÊòØÁî®Êà∑ËΩØ‰ª∂ÔºàAPPÔºâÔºåÊØîÂ¶Ç chrome„ÄÅmvim„ÄÅwechat„ÄÅwechatwork Ëøô‰∫õÊèê‰æõÁî®Êà∑‰∫§‰∫íÁïåÈù¢ÁöÑËΩØ‰ª∂„ÄÇ

ÊääÈóÆÈ¢òËΩ¨Âêë[[https://docs.brew.sh/][ Homebrew Documentation]] > [[https://docs.brew.sh/HomebrewandPython][Python]] ÁúãÁúãÂÆòÁΩë‰∏äÂØπ Python ÊúâÂï•ËØ¥ÊòéÊ≤°Ôºü
ÁúãÂà∞‰∫ÜÂ¶Ç‰∏ãËØ¥Êòé:

#+BEGIN_QUOTE
Homebrew provided a python@2 formula until the end of 2019, at which point it was removed due to the Python 2 deprecation.
*Important:* If you choose to use a Python which isn‚Äôt either of these two (system Python or brewed Python),
the Homebrew team cannot support any breakage that may occur.
#+END_QUOTE

* Ëß£ÂÜ≥

ÂèÇËÄÉ:[[https://stackoverflow.com/questions/60298514/howtoreinstallpython2fromhomebrew#][https://stackoverflow.com/questions/60298514/howtoreinstallpython2fromhomebrew]]

#+BEGIN_SRC ruby
cd ~

wget https://raw.githubusercontent.com/Homebrew/homebrewcore/86a44a0a552c673a05f11018459c9f5faae3becc/Formula/python@2.rb

brew install python@2.rb

rm python@2.rb
#+END_SRC

ÊâßË°åËøáÁ®ãÔºåÂ¶Ç‰∏ã:

#+BEGIN_SRC python
# 1. ËøõÂÖ•ÈªòËÆ§Áî®Êà∑ÁõÆÂΩï
$ cd ~
# 2. ‰∏ãËΩΩ python@2.rb Êñá‰ª∂
$ wget https://raw.githubusercontent.com/Homebrew/homebrewcore/86a44a0a552c673a05f11018459c9f5faae3becc/Formula/python@2.rb

20210518 16:47:21  https://raw.githubusercontent.com/Homebrew/homebrewcore/86a44a0a552c673a05f11018459c9f5faae3becc/Formula/python@2.rb

Ê≠£Âú®Ëß£Êûê‰∏ªÊú∫ raw.githubusercontent.com (raw.githubusercontent.com)... 185.199.109.133, 185.199.110.133, 185.199.108.133, ...

Ê≠£Âú®ËøûÊé• raw.githubusercontent.com (raw.githubusercontent.com)|185.199.109.133|:443... Â∑≤ËøûÊé•„ÄÇ

Â∑≤ÂèëÂá∫ HTTP ËØ∑Ê±ÇÔºåÊ≠£Âú®Á≠âÂæÖÂõûÂ∫î... 200 OK

ÈïøÂ∫¶Ôºö13347 (13K) [text/plain]

Ê≠£Âú®‰øùÂ≠òËá≥: ‚Äúpython@2.rb‚Äù

python@2.rb                          100%[====================================================================>]  13.03K  .KB/s  Áî®Êó∂ 0.002s

20210518 16:47:22 (6.84 MB/s)  Â∑≤‰øùÂ≠ò ‚Äúpython@2.rb‚Äù [13347/13347])

# 3. ‰øÆÊîπ python@2.rb Êñá‰ª∂ÊùÉÈôê(ÂèØÈÄâ)

$ chmod 755 python\@2.rb

# 4. Âà†Èô§Á≥ªÁªüÈªòËÆ§ /usr/local/bin/python2 > /usr/bin/python2.7(ÂèØÈÄâ)

$ rm /usr/local/bin/python2

# 5. ÂÆâË£Ö python@2.rb

$ brew install python@2.rb

Error: Failed to load cask: python@2.rb

Cask 'python@2' is unreadable: wrong constant name #<Class:0x00007fcc198f2360>

Warning: Treating python@2.rb as a formula.

==> Downloading https://homebrew.bintray.com/bottles/python%4022.7.17_1.catalina.bottle.tar.gz

Already downloaded: /Users/dovsnier/Library/Caches/Homebrew/downloads/a4e7e62c67a0ffb99906cfde7bfaf5b028f31c44f5a5ec3aec49740205151fc5python@22.7.17_1.catalina.bottle.tar.gz

==> Pouring python@22.7.17_1.catalina.bottle.tar.gz

==> /usr/local/Cellar/python@2/2.7.17_1/bin/python s setup.py nousercfg install force verbose singleversionexternallymanaged recor

==> /usr/local/Cellar/python@2/2.7.17_1/bin/python s setup.py nousercfg install force verbose singleversionexternallymanaged recor

==> /usr/local/Cellar/python@2/2.7.17_1/bin/python s setup.py nousercfg install force verbose singleversionexternallymanaged recor

==> Caveats

Pip and setuptools have been installed. To update them

  pip install upgrade pip setuptools

You can install Python packages with

  pip install <package>



They will install into the sitepackage directory

  /usr/local/lib/python2.7/sitepackages



See: https://docs.brew.sh/HomebrewandPython

==> Summary

üç∫  /usr/local/Cellar/python@2/2.7.17_1: 3,806 files, 51.7MB

# 6. Âà†Èô§ python@2.rb Êñá‰ª∂

$ rm python@2.rb

# 7. Â¶ÇÊûúÊúâÈúÄË¶ÅÔºåÂç∏ËΩΩ python@2.rb(ÂèØÈÄâ)

$ brew uninstall python\@2.rb
#+END_SRC

Êü•Áúã‰∏Ä‰∏ãÂÆâË£ÖÂêéÔºåPython@2 ÂºïÁî®Ôºö

#+BEGIN_SRC sh
$ ls al /usr/local/bin/python*

lrwxrxrx  1 xxx  admin  38  5 18 17:03 /usr/local/bin/python > ../Cellar/python@2/2.7.17_1/bin/python

lrwxrxrx  1 xxx  admin  45  5 18 17:03 /usr/local/bin/pythonconfig > ../Cellar/python@2/2.7.17_1/bin/pythonconfig

lrwxrxrx  1 xxx  admin  39  5 18 17:03 /usr/local/bin/python2 > ../Cellar/python@2/2.7.17_1/bin/python2

lrwxrxrx  1 xxx  admin  46  5 18 17:03 /usr/local/bin/python2config > ../Cellar/python@2/2.7.17_1/bin/python2config

lrwxrxrx  1 xxx  admin  41  5 18 17:03 /usr/local/bin/python2.7 > ../Cellar/python@2/2.7.17_1/bin/python2.7

lrwxrxrx  1 xxx  admin  48  5 18 17:03 /usr/local/bin/python2.7config > ../Cellar/python@2/2.7.17_1/bin/python2.7config

lrwxrxrx  1 xxx  admin  40  5 18 10:19 /usr/local/bin/python3 > ../Cellar/python@3.9/3.9.1_8/bin/python3

lrwxrxrx  1 xxx  admin  47  5 18 10:19 /usr/local/bin/python3config > ../Cellar/python@3.9/3.9.1_8/bin/python3config

lrwxrxrx  1 xxx  admin  40  1 14 18:06 /usr/local/bin/python3.8 > ../Cellar/python@3.8/3.8.5/bin/python3.8

lrwxrxrx  1 xxx  admin  47  1 14 18:06 /usr/local/bin/python3.8config > ../Cellar/python@3.8/3.8.5/bin/python3.8config

lrwxrxrx  1 xxx  admin  42  5 18 10:19 /usr/local/bin/python3.9 > ../Cellar/python@3.9/3.9.1_8/bin/python3.9

lrwxrxrx  1 xxx  admin  49  5 18 10:19 /usr/local/bin/python3.9config > ../Cellar/python@3.9/3.9.1_8/bin/python3.9config

lrwxrxrx  1 xxx  admin  39  5 18 17:03 /usr/local/bin/pythonw > ../Cellar/python@2/2.7.17_1/bin/pythonw

lrwxrxrx  1 xxx  admin  40  5 18 17:03 /usr/local/bin/pythonw2 > ../Cellar/python@2/2.7.17_1/bin/pythonw2

lrwxrxrx  1 xxx  admin  42  5 18 17:03 /usr/local/bin/pythonw2.7 > ../Cellar/python@2/2.7.17_1/bin/pythonw2.7
#+END_SRC

* ‰∫î. ÂèÇËÄÉ
  [[https://brew.sh/index_zhcn][https://brew.sh/index_zhcn]]
  [[https://docs.brew.sh/][https://docs.brew.sh/]]
  [[https://docs.brew.sh/HomebrewandPython][https://docs.brew.sh/HomebrewandPython]]
  [[https://docs.brew.sh/DeprecatingDisablingandRemovingFormulae][https://docs.brew.sh/DeprecatingDisablingandRemovingFormulae]]
  [[https://devguide.python.org/#statusofpythonbranches][https://devguide.python.org/#statusofpythonbranches]]
  [[https://pip.readthedocs.io/en/stable/installing/#installpip][https://pip.readthedocs.io/en/stable/installing/#installpip]]
  [[https://www.python.org/downloads/][https://www.python.org/downloads/]]
  [[https://www.python.org/dev/peps/pep0373/][https://www.python.org/dev/peps/pep0373/]]
  [[https://github.com/Homebrew/brew][https://github.com/Homebrew/brew]]
  [[https://github.com/Homebrew/brew/issues/7057][https://github.com/Homebrew/brew/issues/7057]]
  [[https://github.com/Homebrew/homebrewcore/issues/50546][https://github.com/Homebrew/homebrewcore/issues/50546]]
  [[https://github.com/Homebrew/brew/pull/7066][https://github.com/Homebrew/brew/pull/7066]]
  [[https://github.com/Homebrew/brew/pull/7019][https://github.com/Homebrew/brew/pull/7019]]
  [[https://github.com/Homebrew/homebrewcore/pull/49796][https://github.com/Homebrew/homebrewcore/pull/49796]]
  [[https://stackoverflow.com/questions/tagged/python2.7][https://stackoverflow.com/questions/tagged/python2.7]]
  [[https://stackoverflow.com/questions/60298514/howtoreinstallpython2fromhomebrew#][https://stackoverflow.com/questions/60298514/howtoreinstallpython2fromhomebrew]]
