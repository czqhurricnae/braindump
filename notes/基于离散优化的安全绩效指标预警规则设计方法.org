# -*- eval: (setq org-media-note-screenshot-image-dir (concat default-directory "./static/基于离散优化的安全绩效指标预警规则设计方法/")); -*-
:PROPERTIES:
:ID:       4F4D805A-182D-4105-BD35-B521CD25406E
:END:
#+LATEX_CLASS: my-article
#+DATE: <2022-01-21 Fri 15:10>
#+TITLE: 基于离散优化的安全绩效指标预警规则设计方法

#+ROAM_KEY:


* 引言
安全管理体系（SMS）作为国际民航组织（ICAO）推荐的系统化的数据驱动的安全管理方法，强调所有的管理决策都应基于安全数据的支持。
而在安全管理体系框架下，安全绩效管理（SPM）被认为是评价体系建设有效性的重要手段[fn:2]，[fn:3]，[fn:4]。
安全绩效指标体系由安全绩效指标以及相应的目标值和预警规则组成，通过设定不同层级和类型的指标，并对其进行持续监测，
安全管理人员可以全面监控组织的运行趋势，及时发现运行过程中的偏差，从而纠正管理过程中的缺陷。
在这一过程中，安全绩效指标的预警规则扮演了极为重要的角色，它直接决定了管理人员在什么样的指标运行态势下需要介入并采取预防和纠正措施，进而将直接影响安全管理资源的分配[fn:5]。

预警规则设计的思路是在指标运行的可接受区间附近设计预警阈值，
当某一指标的运行偏离预期绩效进而突破该阈值时，便通过预警提醒管理人员采取必要的管控。

因此，确定安全绩效指标的预警规则相比安全绩效指标的目标值，在某种程度上更为精准地体现了组织对于某一运行风险的可接受程度，
而这样的一种可接受程度必然是基于安全运行水平与经济效益的综合考虑[fn:2]。
如果预警规则的设计过于严格，不容许运行过程中存在正常波动，虽然能够在很大程度上保证运行安全，但是管理人员将会花费大量精力去制订和落实指标的控制措施，
而此时指标距离运行的安全边界尚有很大裕度，这无形之中带来了大量管理和人力资源的浪费。

而如果预警规则的设计过于宽松，在指标的运行已经发生重大偏离或剧烈波动的情况下才触发预警，
由于管理活动的作用总会存在滞后性，很有可能无法实现对运行态势的有效管控，从而无法避免严重后果性事件的发生。

因此，在开展安全绩效管理的过程中，安全管理人员需要收集和分析大量历史数据，
以帮助其了解组织运行以及管理的安全边界究竟在哪里，什么样的偏差是不可接受的，而什么样的波动又是在合理的运行区间范围内的。
这样的基于数据的决策的思想，在保留专家经验的基础上，能够很大程度减少因个人主观的偏见而夸大或忽略运行关键环节影响的情况，因而目前在民航业内得到普遍认可。

民航业目前在开展安全绩效管理过程中，在利用历史数据确定指标预警规则时通常会采用 ICAO 推荐的标准偏差原则（[[id:24BF4D64-C840-4922-B6D3-95EDD3D6D8AA][STDEVP]]）。
然而该方法在实际应用层面对于如何操作数据以辅助专家决策仍缺乏足够的操作指导。
本文在研究标准偏差法的基础上，结合离散优化思想提出了一种改进的安全绩效指标预警规则设计方法。
该方法以降低安全管理成本、维持可接受的安全裕度作为优化目标，以部门的历史运行状态作为约束条件，通过对约束条件的求解得到优化目标的最优解，
并以此作为确定预警规则的依据。
利用航空公司实际运行的数据，对本文提出方法的实际适用性进行了验证，并取得了预期的效果。
#+transclude: [[id:24BF4D64-C840-4922-B6D3-95EDD3D6D8AA][STDEVP]] 

* 基于离散优化的预警规则设计方法
** 设置预警规则的标准偏差原则
:PROPERTIES:
:ID:       6C844DF8-A318-415C-868A-17C81667610C
:END:
[[id:6FE2C272-B3B4-491D-91EA-2678209C5825][ICAO]]在针对安全绩效管理的指导性文件中[fn:1]，推荐使用标准偏差原则来设计安全绩效指标的预警。
这种方法的实施基于组织的历史运行数据，在较好地匹配组织的安全管理水平的同时，也考虑到了指标运行过程中可能存在的波动。
通过统计某一指标运行的历史数据，可以计算得到该指标的历史平均值 μ 以及运行标准偏差 σ 。
实际运行过程中，对低优型指标（指标数值越低越优秀），将 μ 作为目标值参考，将 μ+σ 作为监控指标的基础预警线（见图 1）。
可以发现，在实际运行过程中存在较大波动的指标，其基础预警线也将相对更高，因而这种思路可以在一定程度上避免指标频繁预警的情况。
在此基础上，还可以设置 μ+2σ 作为更高级预警线，当指标数值运行超过 μ+σ 或 μ+2σ 达到一定周期后，便会触发指标预警（对高优型指标为 μ-σ 或 μ-2σ）。

#+CAPTION: 图 1 根据标准偏差原则确定的预警线
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-1fe1061f58cf53aa395a60723c917096.png]]

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-1b1e1e38d198bc8579cae9c974c017e5.png]]

引入标准差的概念为解决波动性指标的预警问题提供了非常好的思路，但是 ICAO 推荐的原则在操作层面还存在以下缺陷。

1）以低优型指标为例，该原则关注指标监测值以 μ+σ 上的情况，却未考虑当指标长时间运行在（μ，μ+σ）之间时，预警规则将会失效。
指标不会预警，但最终结果可能会突破目标值。
对低优型指标而言，在实际运行过程中，由于规章要求、人员培训、正常安全管理活动的介入等要素的影响，其实际数据接近于正偏态分布，
即在多数情况下指标处于一个合理的相对较低的数值区间运行，在少数情况下会有高值的情况出现，指标的中位数小于指标的均值。
因此，为了保证预警规则不会过于“迟钝”，将历史均值 μ 作为指标的基础预警线，μ+σ 以及 μ+2σ 作为指标的高级预警线应该是更为合理的选择。

2）依然以低优型指标为例。因为指标实际运行过程中可能会存在波动，因此预警规则应该足够“包容”，能够允许指标数值在基础预警线以上波动的存在。
同时，预警规则也应该保持足够的“灵敏”，因为当指标在基础预警线以上的运行达到一定程度后，有可能无论后续的运行状态有多理想，指标都将被突破。
因此，在不考虑超大异常点出现导致指标瞬间被突破的前提下，一个好的预警规则应该在尽可能大地保证安全裕度的同时，通过及时触发预警以避免指标被突破。

而目前，基于标准偏差原则，管理人员只能够确定不同层级的预警线。
在此基础上如何确定何种情况下应该触发预警，何种情况下指标的状态依然可以接受，
由于缺乏可操作的指导方法，安全管理人员倾向于在主观经验的基础上，对所有指标采用统一的预警规则设置方式。
因此，有必要针对如何利用历史数据设计适用的预警规则建立可操作的技术方法。

** 基于离散优化的预警规则设计方法                              :海因里希法则:
:PROPERTIES:
:ID:       E249E46B-D3E2-469C-B252-2788D034281D
:END:
基于预警规则设计的最终目的，以及安全绩效管理一般以月度为数据监测周期、以年度为指标评价周期的一般模式，
我们可以将设计预警规则归纳为在 *历史数据基础上计算可以在基础预警线以上运行的月份数量* 的问题。

在目标值不被突破的前提下，允许在基础预警线以上运行的月份数量越多，意味着预警规则所确定的安全裕度越大，
而需要管理人员进行干预的次数越少，因而对应的管理成本也将越低。
而影响这个月份数量的因素，除去指标本身的历史均值以及标准差以外，还包括指标在均值以上、以下运行时具体的品质。
因此，计算月份的数量问题可以看作一个线性优化问题，同时由于求解的月份数为整数型变量，因此可以称其为一个离散优化问题[fn:5]。

以低优型指标为例，假设基于最终的预警规则，在基础预警线 μ 以内运行的月份数量为 x，可接受的在（μ，μ+σ]之间运行的月份数量为 y，
可接受的在 μ+σ 以上区间运行的月份数为 z。
对离散优化问题，以降低安全管理成本、维持可接受的安全裕度为目标函数，那么在预警线以上运行的月份数量应越多越好，因此可以表示为：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-4aafd1b15f1579ae2658dabd293f8b47.png]]

通过统计历史数据，可以计算得到指标在 [0,μ] 之间运行时的均值为 M，指标在 (μ,μ+σ] 之间运行时的均值为 N，指标在 (μ+σ,∞) 之间运行的均值为 P。
因而可以得到指标在每个区间内运行的数据的总和应当不超过年度的运行总量。
此外，基于海因里希法则， *相对低后果的偏离数量总会大于相对高后果的偏离数量* ，因此可以认为 x≥y≥z≥0。

因此，该离散优化问题的约束条件可以表示为：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-1048af90fee7b2ba86ff72fd090c06dc.png]]

离散优化问题理论上是 NP-困难的，但是在应用过程中，离散问题的求解与实际工程问题的类型有密切关系，可以通过仔细分析和利用问题独特的性质来应用相关算法。
在实际开展安全绩效管理工作中，一方面不可能要求安全管理人员使用复杂的算法去将每一个算例进行求解，因为那将与我们试图降低管理成本的初衷背道而驰；
另一方面即使最终计算得到的不是唯一解，但因为问题存在具体的应用场景，例如在本文所涉及的算例中，
最终求解得到的可能是满足约束条件的多个月份的组合，安全管理人员仍然可以在此基础之上，通过综合考虑公司政策、管理成本等方面的因素，从这些月份组合中去选择更为适用的一组解。

* 方法应用案例
:PROPERTIES:
:ID:       6DE9924A-68EA-4AE4-AFC1-B704A718F9E4
:END:
目前航空公司在开展安全绩效管理工作的过程中，已经有意识地利用历史数据开展了指标识别，目标值、预警值设计等工作，其中以利用飞行品质监控数据开展安全绩效管理最为典型。
在开展飞行品质监控工作过程中，安全管理人员与飞行品质监控专家一起选定关键参数作为绩效指标开展持续监测，并利用历史数据确定指标的目标值和预警值。但在确定预警规则的过程中，依然普遍根据主观印象设定初始规则，然后通过不断
试错完成预警规则的优化。为了测试在实际开展安全绩效管理的过程中离散优化对预警规则设计支持的适用性，本文以航空公司利用飞行品质监控数据开展安全绩效指标监测为案例进行了验证。

案例 1：某公司飞行部门为监控指标“50 英尺以下至接地距离长”，统计了近两年 QAR 监控该指标的历史数据（表 1）。

#+CAPTION: 表 1 某公司“50 英尺至接地距离长”指标 2016～2017 年数据
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-3f2c098435ffba3fb464b0baaa86287d.png]]

计算得到该指标近两年运行的均值 μ=3.63，标准差 σ=1.32。假设在新的一个指标评价周期，期望该低优型指标的品质可以提升，即在历史水平基础上有所下降，
因此将该指标的目标值以及基础预警线设为 3.5，则一级预警线为 4.82。

继续分析历史数据，分别可以计算得到该指标在 [0,3.5] 之间运行时的均值为 2.47，在（3.5,4.82] 之间运行时的均值为 4.25，
在（4.82，∞）运行的均值为 5.87。
假设指标在基础预警线以内运行的月份数量为 x，可接受在（3.5,4.82] 之间运行的月份数量为 y，可接受在（4.82，∞）之上区间运行的月份数为 z，则该离散优化问题可以表述为：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-90c04b4e72c0eb4303b48bd04935058b.png]]

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-6e67b40cb97e027541e045c6fd7eef55.png]]

对上述方程组进行求解计算可以得到最优解：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-4dc230f9cef1379fc29a902c80531d58.png]]

即基于该指标历史的水平，可以接受的在（3.5,4.82] 之间运行的月份数量最多不能超过 5 个月，突破 4.82 运行的月份数最多不能超过 1 个月。
根据 y=5 可以确定，在连续 2.4 个月内，当指标有 1 个月达到（3.5,4.82] 时便应触发预警。
然而，这与实际的指标数据以自然月为监测周期的实际不符，在这种情况下需要向上取整，即以连续 3 个月为预警基准。

由此，可以设计该指标的预警规则为：
(1)当指标数值突破 4.82 时，需立刻启动预警；
(2)当指标数值连续 3 个月内有 1 个月运行在（3.5,4.82] 之间时，便启动预警，否则解除预警。

基于该预警规则，公司飞行部 2018 年继续对该指标进行了监控，得到以下数据（表 2），并绘制了指标运行趋势图（图 2）。

#+CAPTION: 表 2 2018 年指标“50 英尺至接地距离长”监测数据
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-c6a8057531ecd29044ee6bbf20b9bcea.png]]

按照预警规则，该指标在 2018 年 3 月突破了基础预警线，按照预警规则(2)触发了预警，此后在 4 至 7 月连续处于预警状态，然后在 8 至 9 月解除了预警。
此后，指标在 10 月再次触发预警，并一直延续至 12 月。
经过统计，该指标在 2018 年度在一级预警线以上运行的月份数量为 1 个月，在基础预警线到一级预警线之间运行的月份数量为 4 个月，
没有突破离散优化求解所给出的月份数量上限，而 2018 年该指标的年度平均值为 3.29，在基础预警线以下，达到了预期的目标。

#+CAPTION: 图 2 2018 年指标“50 英尺至接地距离长”运行趋势图
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-4e624a9bebfb13408cf8c5ae2b753862.png]]

案例 2：某公司飞行部针对“起飞滑跑不稳定”指标的监控，统计了 2016～2017 年的数据（表 3）。

#+CAPTION: 表 3 指标“起飞滑跑不稳定”2016～2017 年统计数据
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-a62a276866d9faa1f14a20ca0bf42a5f.png]]

计算得到指标两年均值μ=1.34，标准差σ=1.01。假设在新的一个指标评价周期，期望优化该指标的品质，即在历史水平基础上下降，因此确定该指标的目标值及基础预警线为 1.2，一级预警线为 2.21。基于历史运行
数据，分别可以计算得到该指标在[0,1.2]之间运行时的均值为 0.66，在（1.2,2.21]之间运行时的均值为 1.62，在（2.21，∞）之间运行的均值为 2.95。则该离散优化问题可以表述为：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-a171159003d90df8e15d07518deaf007.png]]

对上述方程组进行求解计算可以得到最优解：

[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-de568508d873c9598c6c5bf8b1ec2416.png]]

即基于该指标历史的运行水平，能够接受的指标在（1.2,2.21]之间运行的月份数量最多不能超过 4 个月，可接受的突破 2.21 运行的月份数最多不能超过 1 个月。由此可以设计该指标的预警规则为：(1)当指标数值突破
2.21 时，立刻启动预警；(2)当指标数值连续 3 个月内有 1 个月运行在（1.2,2.21]之间时，便启动预警。该指标 2018 年的运行数据如表 4 所示。

#+CAPTION: 表 4 指标“起飞滑跑不稳定”2018 年监测数据
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-3ee0c36a81996c7fde5a69a2fd114013.png]]

该指标在 2018 年 2 至 7 月、10 至 12 月连续处于预警状态（图 3），且在基础预警线与一级预警线区间之间运行的月份数量达到了 5 个月，超过了离散优化求解所给出的月份上限。最终，该指标 2018 年年度平均值为 1.3
1，突破了预期的目标，指标年度未能达标。

#+CAPTION: 图 3 2018 年指标“起飞滑跑不稳定”运行趋势图
[[file:./static/基于离散优化的安全绩效指标预警规则设计方法/1642748435-a277581958dfcf4880b86dbaea286cbb.png]]

* 结论
安全管理体系建设的最终目标是建立以数据为驱动的管理决策模式，即所有的安全管理决定都要以客观的运行数据作为参考依据。安全绩效管理作为评价安全管理体系建设有效性的重要手段之一，从管理目的的确
定，到监控指标的识别，再到预警规则的设计，更是处处体现着以数据为根本驱动力的基本思想。本文在分析国际民航组织推荐的预警规则设计的标准偏差原则存在的不足的基础上，应用离散优化思想建立了一种便
于管理人员操作的预警规则设计方法。该方法以降低安全管理成本、维持可接受的安全裕度作为优化目标，以部门的历史运行状态作为约束条件，通过对约束条件的求解得到优化目标的最优解，并以此作为确定预警
规则的依据。通过在航空公司运行数据，验证了该方法在实际指标监控过程中的效果。同时，容易得知，更加丰富、全面的历史数据将会更好地支持该方法在实际安全绩效管理工作中的应用。

* Footnotes

[fn:5] [[https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&filename=YCXX201401003&v=MTk5MTVoVzdySVBDN1Rkckc0SDlYTXJvOUZaNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdpZlp1UnVGeTM=&uid=WEEvREcwSlJHSldSdmVqelcxY2RCc3NHd1M5UUhuRW9SUUZPcTNuZHhTaz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!][孙小玲,李瑞.整数规划新进展[J].运筹学学报，2014,18(1):39-68.]] 

[fn:4] [[https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CMFD&filename=2008159534.nh&v=MTM3MjhadVJ1RnkzaFc3cklWMTI3RnJLOUY5VFBxNUViUElRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3aWY=&uid=WEEvREcwSlJHSldSdmVqelcxY2RCc3NHd1M5UUhuRW9SUUZPcTNuZHhTaz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!][张朋鹏.航空公司安全绩效评价研究[D].天津：中国民航大学，2008.]] 

[fn:3] [[https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&filename=DTSJ201811093&v=MDAxODBJVG5ZWkxHNEg5bk5ybzlNWjRRS0RIODR2UjRUNmo1NE8zenFxQnRHRnJDVVI3aWZadVJ1RnkzaFc3ckk=&uid=WEEvREcwSlJHSldSdmVqelcxY2RCc3NHd1M5UUhuRW9SUUZPcTNuZHhTaz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!][欧阳波.提升安全风险管理有效性的对策[J].低碳世界，2018(11):146-147.]] 

[fn:2] [[https://kns.cnki.net/kcms/detail/detail.aspx?dbcode=CJFD&filename=MHJJ201003017&v=MDAzMTZZNFFLREg4NHZSNFQ2ajU0TzN6cXFCdEdGckNVUjdpZlp1UnVGeTNoVzdySUtDWEJaTEc0SDlITXJJOUU=&uid=WEEvREcwSlJHSldSdmVqelcxY2RCc3NHd1M5UUhuRW9SUUZPcTNuZHhTaz0=$9A4hF_YAuvQ5obgVAqNKPCYcEjKensW4IQMovwHtwkF4VYPoHbKxJw!!][王清晨.如何对民航企业安全管理体系有效性实施现场验证[J].航空安全，2010(111):48-50.]] 

[fn:1] ICAO.Safety Management Manual(SMM):Doc 9859[A].4th ed.2018. 
